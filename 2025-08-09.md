---
theme: dracula
title: "Running Python in the Browser: Practical Applications with Pyodide"
transition: fade
mdc: true
fonts:
  mono: JetBrains Mono
---

<LoadingScene />

---
layout: center
class: bg-[#172966] text-white font-mono
---

<div class="text-3xl text-center leading-snug">
  Running Python in the Browser<br /><small>Practical Applications with Pyodide</small>
</div>
<div class="text-xs opacity-50">2025-08-09 Â· COSCUP ä¸»æœƒå ´</div>
<div class="text-xs italic opacity-50">Calpa Liu</div>

---
layout: center
class: bg-[#172966] text-white font-mono
---

<div class="text-xl opacity-70 mb-2">ä½ æ˜¯ä¸æ˜¯ä¹Ÿç¶“æ­·éâ€”â€”</div>

<div class="text-2xl sm:text-3xl font-bold leading-snug text-red-300">
  ã€Œæƒ³æ•™å­¸ç”Ÿ/åŒäº‹è·‘ NumPy æˆ– pandasï¼Œ<br />ä½†å°æ–¹é›»è…¦æ²’è£ Pythonï¼Ÿã€
</div>

<div class="text-2xl sm:text-3xl text-green-300 mt-6" v-click>
  ä»Šå¤©ï¼Œç”¨ Pyodide è®“ <span class="font-bold">ç€è¦½å™¨</span> è®Šæˆä½ çš„ Python åŸ·è¡Œç’°å¢ƒã€‚
</div>

---
layout: two-cols
class: flex flex-col h-full justify-center items-center gap-4
---

## æŠ•å½±ç‰‡èˆ‡ Demo

https://2025-08-09.calpa.me

- ç¨å¾Œæœƒæœ‰å››æ®µç¾å ´ demoï¼ˆNumPyã€JS âŸ· Pythonã€Matplotlibã€äº’å‹•å¼è’™ç‰¹å¡ç¾…ä¼°ç®— Ï€ï¼‰
- è‹¥ Wiâ€‘Fi æ“æ“ ï¼Œè«‹æƒ QR çœ‹ç·šä¸Šå‚™æ´

::right::

<img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=https://2025-08-09.calpa.me&bgcolor=172966&color=ffffff" class="mt-6 w-36 h-36 mx-auto" alt="ç°¡å ± QR Code" />

---
layout: two-cols
class: flex flex-col h-full justify-center items-center
---

## ğŸ‘‹ å—¨ï¼Œæˆ‘æ˜¯ Calpa

- å…¨ç«¯å·¥ç¨‹å¸«ï¼Œå–œæ­¡æŠŠè¤‡é›œæŠ€è¡“è¬›åˆ°èƒ½è½åœ°
- è¿‘å¹´å°ˆæ³¨ AI Ã— Webï¼Œå¯¦ä½œå¤šå€‹ç€è¦½å™¨ç«¯å·¥å…·
- æ¯æ—¥å¯«ä½œï¼Œåå¥½ç”¨å·¥ç¨‹åŒ–æ–¹æ³•åšå…§å®¹èˆ‡ç”¢å“

::right::

<img src="./assets/pfp.avif" class="rounded-full w-36 h-36 border-4 border-white shadow-lg" alt="Calpa Liu">

<div class="text-xl font-bold mt-2">Calpa Liu</div>
<div class="text-sm opacity-70">Fullâ€‘stack Â· AI å·¥å…·é–‹ç™¼ Â· æŠ€è¡“å¯«ä½œè€…</div>

---
layout: center
class: bg-[#172966] text-white font-mono
---

## æˆ‘çš„ç·šä¸Š Python REPL

<div class="text-xl mt-8 mb-6">
  <a href="https://calpa.me/tools/python-interpretor/" target="_blank" class="text-blue-300 hover:underline">https://calpa.me/tools/python-interpretor/</a>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center mt-8">
  <div class="text-left">
    <h3 class="text-xl font-bold mb-4">ç‰¹è‰²</h3>
    <ul class="list-disc pl-5 space-y-2">
      <li>å³é–‹å³ç”¨ï¼Œç„¡éœ€ç™»å…¥/å®‰è£</li>
      <li>å®Œå…¨åœ¨ç€è¦½å™¨ä¸­åŸ·è¡Œ Python 3</li>
      <li>æ”¯æ´æ¨™æº–åº«èˆ‡ç†±é–€è³‡æ–™ç§‘å­¸å¥—ä»¶</li>
      <li>éš¨æ™‚éš¨åœ°ï¼Œæœ‰ç€è¦½å™¨å°±èƒ½å¯«ç¨‹å¼</li>
    </ul>
  </div>
  
  <div class="flex flex-col items-center">
    <img 
      src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://calpa.me/tools/python-interpretor/&bgcolor=172966&color=ffffff" 
      alt="Python REPL QR Code"
      class="w-40 h-40 border border-gray-600 rounded-lg p-2"
    >
    <p class="mt-2 text-sm opacity-70">æƒæè©¦ç”¨</p>
  </div>
</div>

---
layout: center
---

## ç‚ºä»€éº¼ Pyodide æ˜¯çªç ´ï¼Ÿ

- è®“ **CPython** è·‘åœ¨ **WebAssembly** ä¸Šï¼Œç„¡å®‰è£ã€è·¨å¹³å°
- å¸¶ä¾† **Python ç§‘å­¸ç”Ÿæ…‹** åˆ°ç€è¦½å™¨ï¼ˆNumPy / pandas / SciPy / Matplotlib / scikitâ€‘learnï¼‰
- æä¾› **JS âŸ· Python FFI**ï¼Œå¯é›™å‘å‘¼å«èˆ‡å…±äº«ç‰©ä»¶
- å…¸å‹å ´æ™¯ï¼šæ•™å­¸ã€äº’å‹•å¯¦é©—ã€éš±ç§åœ¨åœ°é‹ç®—ã€é›¶å¾Œç«¯ PoC

---
layout: center
---

## 30 ç§’çœ‹ WebAssemblyï¼ˆWASMï¼‰

- ç€è¦½å™¨å¯åŸ·è¡Œçš„äºŒé€²ä½æ ¼å¼ï¼Œæ¥è¿‘åŸç”Ÿæ•ˆèƒ½
- 2017 ä¸»æµç€è¦½å™¨æ”¯æ´ï¼›2019 æˆç‚º W3C æ¨è–¦æ¨™æº–
- æœ‰äº† WASMï¼Œ**CPython â†’ WASM** æ‰æˆç‚ºå¯èƒ½ï¼ˆPyodide çš„å‰æï¼‰

---
layout: center
---

## Pyodide ç”¨æˆ¶åƒ¹å€¼

- **é›¶å®‰è£**ï¼šæ‰“é–‹é é¢å°±èƒ½è·‘ Python
- **æ“´æ•£å¿«**ï¼šéœæ…‹è¨—ç®¡å³å¯å¤§è¦æ¨¡ä½ˆç½²
- **éš±ç§ä½³**ï¼šè³‡æ–™ç•™åœ¨ä½¿ç”¨è€…ç«¯
- **å¯é›¢ç·š**ï¼šè¼‰å…¥å¾Œæ–·ç¶²ä¹Ÿèƒ½è·‘

---
layout: center
---

<h2>å¸¸è¦‹é¡§æ…®</h2>

- åˆæ¬¡è¼‰å…¥æ™‚é–“ï¼ˆæ•¸ç§’ï¼‰
- è¨˜æ†¶é«”åƒé‡ã€å¤§å‹æ•¸æ“šä¸é©åˆ
- éƒ¨åˆ†å¥—ä»¶ç›¸ä¾ C/ç³»çµ±åŠŸèƒ½è€Œä¸å¯ç”¨
- ä¸æ˜¯å–ä»£ JSï¼Œè€Œæ˜¯äº’è£œ

---

## Python å‘¼å« JS

```py
import js

# å»ºç«‹æŒ‰éˆ•
btn = js.document.createElement("button")
btn.textContent = "Click me"

# è¨­å®š CSS æ¨£å¼
btn.style.position = "absolute"
btn.style.top = "0px"
btn.style.left = "0px"
btn.style.zIndex = "10000"  # éœ€è¦æ˜¯å­—ä¸²
btn.style.background = "red"
btn.style.color = "white"
btn.style.padding = "8px 12px"
btn.style.border = "none"
btn.style.cursor = "pointer"

# ç¶å®šé»æ“Šäº‹ä»¶
btn.onclick = lambda event: js.alert("GOOD")

# é™„åŠ åˆ°é é¢
js.document.body.append(btn)
```

---
layout: center
---

## Live Demo 2ï¼šNumPy åœ¨ç€è¦½å™¨

```py
import numpy as np
np.arange(12).reshape(3,4)
```

> å‚™è¨»ï¼šé å…ˆåœ¨é é¢è¼‰å…¥ `pyodide.js` èˆ‡å°æ‡‰ `.wasm`ï¼›è‹¥ç¶²è·¯æ“æ“ ï¼Œè«‹æ”¹çœ‹ç·šä¸Šå‚™æ´é€£çµã€‚

---
layout: two-cols
---

## Live Demo 3ï¼šDOM äº’å‹•ï¼ˆPython â†’ JSï¼‰

```py
import js
from pyodide.ffi import to_js

items = ["Pyodide", "NumPy", "pandas"]
ul = js.document.createElement("ul")
for s in items:
    li = js.document.createElement("li")
    li.textContent = s
    ul.appendChild(li)
js.document.body.appendChild(ul)
```

::right::

- å±•ç¤º Python æ“ä½œ DOM çš„ç›´è¦ºæ€§
- èˆ‡æ•™å­¸/äº’å‹•æ•™æå¤©ç„¶å¥‘åˆ

---
layout: center
---

## Live Demo 4ï¼šMatplotlib åœ–è¡¨è¼¸å‡º

````md magic-move
```py
# 0) å‰ç½®æº–å‚™
import matplotlib.pyplot as plt
import numpy as np
import io, base64, js
```

```py
# 1) ç”¢ç”Ÿåœ–è¡¨ä¸¦è½‰æˆ data URL
x = np.linspace(0, 2*np.pi, 100)
y = np.sin(x)
plt.figure(figsize=(6, 4), dpi=120)
plt.plot(x, y, '--', linewidth=2)
plt.title('Sine in the Browser')
plt.tight_layout()
buf = io.BytesIO()
plt.savefig(buf, format="png", bbox_inches="tight", facecolor="white")
buf.seek(0)
data_url = "data:image/png;base64," + base64.b64encode(buf.read()).decode("ascii")
plt.close()
```

```py
# 2) é ‚ç«¯ç½®ä¸­æ¨™ç±¤
tag = js.document.createElement("div")
tag.textContent = "Pyodide Ã— Matplotlib"
tag.style.cssText = (
    "position:absolute;top:0;left:50%;transform:translateX(-50%);z-index:10000;"
    "background:rgba(0,0,0,.7);color:#fff;padding:6px 10px;border-radius:0 0 8px 8px;"
)
js.document.body.append(tag)
```

```py
# 3) ç°è‰²åŠé€æ˜é®ç½© + ç½®ä¸­å®¹å™¨ï¼ˆç„¡äº‹ä»¶ï¼‰
overlay = js.document.createElement("div")
overlay.style.cssText = (
    "position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;"
    "align-items:center;justify-content:center;z-index:9999;"
)
modal = js.document.createElement("div")
modal.style.cssText = (
    "background:#f5f5f5;padding:16px;border-radius:12px;"
    "box-shadow:0 10px 30px rgba(0,0,0,.2);max-width:95vw;max-height:80vh;"
)
img = js.document.createElement("img")
img.style.cssText = "max-width:90vw;max-height:70vh;display:block;"
img.src = data_url
img.alt = "Matplotlib Sine"
```

```py
# 4) çµ„è£
modal.append(img)
overlay.append(modal)
js.document.body.append(overlay)
```
````

https://gist.github.com/calpa/dec16701f05a7906b3bb34bfec888cc9

---

## Live Demo 5: å¯ç›´æ¥åœ¨ Pyodide åŸ·è¡Œçš„äº’å‹•å¼è’™ç‰¹å¡ç¾…ä¼°ç®— Ï€ çš„ Demo

https://gist.github.com/calpa/32b7a96fd54954c5b3d5fc19ab70b343

---

## Pyodide vs Google Colab

| å°æ¯”é» | Pyodide | Google Colab |
|---|---|---|
| åŸ·è¡Œåœ°é» | **ç€è¦½å™¨ (WASM)** | é›²ç«¯ VM |
| ç™»å…¥/å®‰è£ | ä¸éœ€ç™»å…¥ã€é›¶å®‰è£ | éœ€ Google å¸³è™Ÿã€å¾Œç«¯åˆå§‹åŒ– |
| è³‡æ–™è·¯å¾‘ | ç•™åœ¨æœ¬æ©Ÿã€éš±ç§ä½³ | ä¸Šå‚³/æ›è¼‰ï¼Œåˆè¦è€ƒé‡ |
| JS æ•´åˆ | JS âŸ· Python åŸç”Ÿäº’é€š | å¼± |
| é›¢ç·š | âœ… | âŒ |
| é©åˆ | æ•™å­¸ã€äº’å‹•ã€Demoã€PoC | åˆ†æã€è¨“ç·´ã€é•·æ™‚è¨ˆç®— |

> çµè«–ï¼š**ä¸æ˜¯æ›¿ä»£é—œä¿‚**ã€‚Pyodide æ“…é•·åˆ†ç™¼èˆ‡äº’å‹•ï¼ŒColab æ“…é•·é‡é‹ç®—èˆ‡ç ”ç©¶ã€‚

---
layout: center
---

## èƒ½è£å“ªäº›å¥—ä»¶ï¼Ÿ

- å…§å»ºå¸¸è¦‹ç§‘å­¸å¥—ä»¶ï¼š**NumPy / pandas / SciPy / Matplotlib / scikitâ€‘learn** ç­‰
- `micropip` å¯å®‰è£ **ç´” Python** çš„ PyPI å¥—ä»¶
- å°æ–¼å¤§é‡åŸç”Ÿæ“´å±•æˆ–ç³»çµ±å‘¼å«çš„å¥—ä»¶ï¼Œéœ€äº‹å…ˆã€Œç§»æ¤ã€æˆ–å°‹æ‰¾æ›¿ä»£

---
layout: two-cols
class: items-start
---

## ä»€éº¼æ™‚å€™ç”¨ Pyodideï¼Ÿ

- ä¸æƒ³è¦æ±‚å—çœ¾å®‰è£ç’°å¢ƒ
- éœ€è¦åœ¨åœ°è™•ç†æ•æ„Ÿè³‡æ–™
- æƒ³æŠŠ Python èˆ‡ Web UI ç„¡ç¸«çµåˆ
- éœ€è¦é›¢ç·šæ•™å­¸/ç¤ºç¯„

::right::

## ä»€éº¼æ™‚å€™ä¸è¦ï¼Ÿ

- å¤§å‹è³‡æ–™æˆ–é•·æ™‚é–“é‡é‹ç®—
- éœ€è¦å¤§é‡ I/Oã€GPU/TPU
- åš´é‡ä¾è³´å¤šé€²ç¨‹/å¤šç·šç¨‹çš„å·¥ä½œè² è¼‰

---
layout: two-cols
---

## æ•ˆèƒ½èˆ‡è¼‰å…¥æ™‚é–“å„ªåŒ–

- ä»¥ **CDN** æä¾› `.wasm` èˆ‡æ ¸å¿ƒè³‡ç”¢
- **å»¶å¾Œè¼‰å…¥**ï¼šäº’å‹•æ™‚æ‰è¼‰å¥—ä»¶ï¼ˆå¦‚ Matplotlibï¼‰
- **å¿«å–**ï¼šService Worker / `Cacheâ€‘Control`
- æ¸›å°‘ `micropip` å‹•æ…‹å®‰è£ï¼›èƒ½é æ‰“åŒ…å°±é æ‰“åŒ…

---

## äº’å‹•é«”é©—æœ€ä½³åŒ–

- é¦–å±é¡¯ç¤º **Skeleton**ï¼Œå‘ŠçŸ¥è¼‰å…¥é€²åº¦
- æä¾› **é›¢ç·šå‚™æ´**èˆ‡**å¤±æ•—é‡è©¦**
- Demo å‰é ç†±ï¼šå…ˆé–‹éš±è—é è§¸ç™¼å¿«å–
- æº–å‚™ä½ç¶²é€Ÿ/ç„¡ç¶²å‚™æ¡ˆï¼ˆéŒ„å½±èˆ‡ Codesandbox å‚™æ´ï¼‰

---
layout: center
---

## èˆ‡ç”Ÿæ…‹çš„é—œä¿‚

- **JupyterLite**ï¼šåŸºæ–¼ Pyodide çš„ç€è¦½å™¨å…§ Jupyter
- **PyScript**ï¼šåå‘ Python é–‹ç™¼è€…çš„ HTML æ¨™ç±¤å¼é«”é©—ï¼›èˆ‡ Pyodide æ“‡ä¸€è¼‰å…¥
- **PyodideU**ï¼ˆStanfordï¼‰ï¼šæ•™å­¸å°å‘ IDEï¼Œç¤ºç¯„æ›´å®Œæ•´çš„åŒæ­¥æš«åœèˆ‡èª¿è©¦æ€è·¯

---
layout: center
---

## å¯¦æˆ°è—åœ–ï¼šæŠŠå®ƒæ”¾é€²ä½ çš„ç”¢å“

1. ç”¨ Pyodide åš **å‰è™•ç†/å¾Œè™•ç†**ï¼Œæ¨¡å‹æ¨è«–äº¤çµ¦ WebGPU / ONNX Runtime Web
2. æ•™å­¸å¹³å°ï¼šå…§åµŒ **å¯äº’å‹•ç¯„ä¾‹**ï¼Œä¸å†è¦æ±‚å®‰è£
3. è³‡å®‰å ´æ™¯ï¼šåœ¨åœ°é‹ç®— + é¸æ“‡æ€§å›å‚³çµ±è¨ˆ/åŒ¿åç‰¹å¾µ

---
layout: two-cols
class: flex flex-col h-full justify-center
---

> å¤§é“è‡³ç°¡ï¼šè®“æ¯å€‹æœ‰æƒ³æ³•çš„äººï¼Œ**è¨€å‡ºæ³•éš¨**ã€‚

æ­¡è¿äº¤æµï¼š

- Emailï¼š**ai@calpa.me**
- Facebookï¼š[@calpaliu2048](https://facebook.com/calpaliu2048)
- Threadsï¼š[@calpaliu2025](https://www.threads.net/@calpaliu2025)
- LINEï¼š@calpaliu2023

<div class="text-sm text-white/50 mt-6">
è‹¥è¦ºå¾—ä»Šå¤©å¯¦ç”¨ï¼Œè«‹åˆ†äº«çµ¦éœ€è¦çš„äººã€‚è¬è¬æ”¶çœ‹ï¼
</div>

::right::

<div class="flex flex-col items-center">

<img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=http://go.calpa.me/contact&bgcolor=172966&color=ffffff" class="mt-6 w-36 h-36 mx-auto" alt="Contact" />

http://go.calpa.me/contact

</div>
